<div class="container">
  <div class="col-md-8 mx-auto">
    <h1>Create your account and start searching for new clothes!</h1>
    <hr>
    <form [formGroup]="registerForm">
      <fieldset class="form-group">
        <label>Email address</label>
        <input type="email" formControlName="email" placeholder="Email address..." class="form-control" required>
        <app-validation-error [errorTuple]="getValidationErrorTuple('email')"></app-validation-error>
      </fieldset>
      <fieldset class="form-group">
        <label>Username</label>
        <input type="text" formControlName="username" placeholder="Username..." class="form-control" required
          minlength="{{constants.minUsernameLength}}" maxlength="{{constants.maxUsernameLength}}">
        <app-letters-limiter
          [inputData]="{count: registerForm.get('username').value?.length, maxCount: constants.maxUsernameLength}">
        </app-letters-limiter>
        <app-validation-error [errorTuple]="getValidationErrorTuple('username')"></app-validation-error>
      </fieldset>
      <fieldset class="form-group">
        <label>Password</label>
        <input type="password" formControlName="password" placeholder="Password..." class="form-control" required
          minlength="{{constants.minPasswordLength}}" maxlength="{{constants.maxPasswordLength}}">
        <app-letters-limiter
          [inputData]="{count: registerForm.get('password').value?.length, maxCount: constants.maxPasswordLength}">
        </app-letters-limiter>
        <app-validation-error [errorTuple]="getValidationErrorTuple('password')"></app-validation-error>
      </fieldset>
      <fieldset class="form-group">
        <label>Confirm password</label>
        <input type="password" formControlName="confirmPassword" placeholder="Confirm password..." class="form-control"
          required maxlength="{{registerForm.get('password').value?.length}}">
        <app-letters-limiter
          [inputData]="{count: registerForm.get('confirmPassword').value?.length, maxCount: registerForm.get('password').value?.length}">
        </app-letters-limiter>
        <app-validation-error [errorTuple]="getValidationErrorTuple('confirmPassword')"></app-validation-error>
      </fieldset>
      <div class="col text-center">
        <button type="submit" class="btn btn-primary btn-block" [disabled]="registerForm.invalid"
          (click)="register()">Register</button>
        <a [routerLink]="['/login']" class="btn btn-link">Do you have account? Just sign in!</a>
      </div>
    </form>
  </div>
</div>
<app-host-listener [form]="registerForm"></app-host-listener>
